<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>

            let nums = [100, 4, 200, 1, 3, 2, 5];

            /**
             * 最长连续序列
             * 思路： set 法
             * 1. 将数组转换为 set
             * 2. 遍历 set，如果 set 中没有 num - 1，则以当前 num 为起点，计算连续序列的长度
             * 3. 计算连续序列的长度，更新 maxLength
             * 4. 返回 maxLength
             * 
             * 时间复杂度： O(n)
             * 空间复杂度： O(n)
            */
            // function longestConsecutive(nums) {
            //     let set = new Set(nums);

            //     let maxLength = 0;

            //     for(const num of set) {

            //         if(!set.has(num - 1)) {
            //             let currentNum = num;
            //             let currentLength = 1;
            //             while(set.has(currentNum + 1)) {
            //                 currentNum++;
            //                 currentLength++;
            //             }
            //             maxLength = Math.max(maxLength, currentLength);
            //         }
            //     }
            //     return maxLength;
            // }


            /**
             * 这个算法使用了排序解法。
             * 思路简述：
             * 1. 先对数组进行排序，使所有连续的数字排列在一起。
             * 2. 然后顺序遍历排序后的数组，统计连续数字的最长长度即可。
             * 时间复杂度：O(nlogn)（排序占主导），空间复杂度：O(1)（如果原地排序）
             */
            function longestConsecutive(nums) {
                if (nums.length === 0) return 0;
                nums.sort((a, b) => a - b);
                let maxLength = 1;
                let currentLength = 1;
                for (let i = 1; i < nums.length; i++) {
                    if (nums[i] === nums[i - 1]) {
                        // 跳过重复数字
                        continue;
                    } else if (nums[i] === nums[i - 1] + 1) {
                        currentLength++;
                    } else {
                        maxLength = Math.max(maxLength, currentLength);
                        currentLength = 1;
                    }
                }
                return Math.max(maxLength, currentLength);
            }
            console.log(longestConsecutive(nums), 'longestConsecutive');
        </script>
    </body>
</html>
